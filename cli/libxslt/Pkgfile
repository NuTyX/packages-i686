description="XSLT libraries used for extending libxml2 libraries to support XSLT files."
url="http://xmlsoft.org/XSLT/"

packager="tnut <tnut@nutyx.org>"
contributors="Pierre B"

makedepends=(libxml2 libgcrypt)

name=libxslt
version=1.1.34

PKGMK_GROUPS=(lib man devel doc)
source=( ftp://xmlsoft.org/libxml2/$name-$version.tar.gz)

lib() {
cd $PKG
bsdtar -cf \
$PKGMK_PACKAGE_DIR/$name.lib${PKGMK_BUILDVER}${PKGMK_ARCH}.cards.tar \
usr/lib/lib{e,}xslt*
rm -r usr/lib/libxslt-plugins
rm usr/lib/libexslt* usr/lib/libxslt*
rm -d usr/lib
}
devel() {
cd $PKG
bsdtar -cf \
$PKGMK_PACKAGE_DIR/$name.devel${PKGMK_BUILDVER}any.cards.tar \
usr/lib/pkgconfig usr/lib/python* usr/include usr/share/aclocal \
usr/lib/xsltConf.sh
rm -r usr/{share/aclocal,include,lib/{pkgconfig,python*,xsltConf.sh}}
rm -d usr/lib
}
package() {
rm $PKG/usr/lib/lib{e,}xslt.la
rm $PKG/usr/lib/python2.7/site-packages/libxsltmod.la
}
