description="Server and user space API to deal with multimedia pipelines"
url="https://pipewire.org"

packager="tnut <tnut@nutyx.org>"
contributors="Fanch"

makedepends=(meson dbus doxygen ffmpeg glib graphviz gstreamer
             gstreamer-plugins-base sbc valgrind libsndfile) 

name=pipewire
version=0.3.1

source=(https://github.com/PipeWire/pipewire/archive/$version/$name-$version.tar.gz)

build() {
  cd $name-$version
  mkdir build
  cd    build
  meson --prefix=/usr      \
    --sysconfdir=/etc      \
    -Djack=false           \
    -Dpipewire-jack=false  \
    -Dvulkan=false         \
    -Ddocs=true            \
    -Dman=true ..
  ninja
  DESTDIR=$PKG ninja install
}
